/*! angular-gantt 27-11-2014 */
use strict;

"use strict";var gantt=angular.module("gantt",["ganttTemplates","angularMoment"]);gantt.constant("GANTT_EVENTS",{READY:"event:gantt-ready",SCROLL:"event:gantt-scroll",TASK_ADDED:"event:gantt-task-added",TASK_CHANGED:"event:gantt-task-changed",TASK_REMOVED:"event:gantt-task-removed",TASK_MOVED:"event:gantt-task-moved",TASK_MOVE_BEGIN:"event:gantt-task-move-begin",TASK_MOVE:"event:gantt-task-move",TASK_MOVE_END:"event:gantt-task-move-end",TASK_RESIZE_BEGIN:"event:gantt-task-resize-begin",TASK_RESIZE:"event:gantt-task-resize",TASK_RESIZE_END:"event:gantt-task-resize-end",TASK_CLICKED:"event:gantt-task-clicked",TASK_DBL_CLICKED:"event:gantt-task-dblclicked",TASK_CONTEXTMENU:"event:gantt-task-contextmenu",COLUMN_CLICKED:"event:gantt-column-clicked",COLUMN_DBL_CLICKED:"event:gantt-column-dblclicked",COLUMN_CONTEXTMENU:"event:gantt-column-contextmenu",ROW_MOUSEDOWN:"event:gantt-row-mousedown",ROW_MOUSEUP:"event:gantt-row-mouseup",ROW_CLICKED:"event:gantt-row-clicked",ROW_DBL_CLICKED:"event:gantt-row-dblclicked",ROW_CONTEXTMENU:"event:gantt-row-contextmenu",ROW_CHANGED:"event:gantt-row-changed",ROW_ADDED:"event:gantt-row-added",ROW_REMOVED:"event:gantt-row-removed",ROW_ORDER_CHANGED:"event:gantt-row-order-changed",ROW_LABEL_MOUSEDOWN:"event:gantt-row-label-mousedown",ROW_LABEL_MOUSEUP:"event:gantt-row-label-mouseup",ROW_LABEL_CLICKED:"event:gantt-row-label-clicked",ROW_LABEL_DBL_CLICKED:"event:gantt-row-label-dblclicked",ROW_LABEL_CONTEXTMENU:"event:gantt-row-label-contextmenu",ROW_HEADER_MOUSEDOWN:"event:gantt-row-header-mousedown",ROW_HEADER_MOUSEUP:"event:gantt-row-header-mouseup",ROW_HEADER_CLICKED:"event:gantt-row-header-clicked",ROW_HEADER_DBL_CLICKED:"event:gantt-row-header-dblclicked",ROW_HEADER_CONTEXTMENU:"event:gantt-row-header-contextmenu",ROW_LABELS_RESIZED:"event:gantt-row-labels-resized",TIMESPAN_ADDED:"event:gantt-timespan-added",TIMESPAN_CHANGED:"event:gantt-timespan-changed",TASKS_FILTERED:"event:gantt-tasks-filtered",ROWS_FILTERED:"event:gantt-rows-filtered"}),gantt.directive("gantt",["Gantt","GanttCalendar","moment","ganttMouseOffset","ganttDebounce","GanttEvents","ganttEnableNgAnimate","GANTT_EVENTS",function(a,b,c,d,e,f,g,h){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.gantt.tmpl.html":b.templateUrl},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",allowTaskMoving:"=?",allowTaskResizing:"=?",allowTaskRowSwitching:"=?",allowRowSorting:"=?",allowLabelsResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",autoExpand:"=?",taskOutOfRange:"=?",maxHeight:"=?",labelsWidth:"=?",showLabelsColumn:"=?",showTooltips:"=?",headers:"=?",headersFormats:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",tooltipDateFormat:"=?",timespans:"=?",columnMagnet:"=?",data:"=?",loadTimespans:"&",loadData:"&",removeData:"&",clearData:"&",centerDate:"&"},controller:["$scope","$element",function(d,e){void 0===d.sortMode&&(d.sortMode="name"),void 0===d.viewScale&&(d.viewScale="day"),void 0===d.columnMagnet&&(d.columnMagnet="15 minutes"),void 0===d.allowTaskMoving&&(d.allowTaskMoving=!0),void 0===d.allowTaskResizing&&(d.allowTaskResizing=!0),void 0===d.allowTaskRowSwitching&&(d.allowTaskRowSwitching=!0),void 0===d.allowRowSorting&&(d.allowRowSorting=!0),void 0===d.allowLabelsResizing&&(d.allowLabelsResizing=!0),void 0===d.currentDateValue&&(d.currentDateValue=c()),void 0===d.currentDate&&(d.currentDate="line"),void 0===d.maxHeight&&(d.maxHeight=0),void 0===d.autoExpand&&(d.autoExpand="none"),void 0===d.taskOutOfRange&&(d.taskOutOfRange="truncate"),void 0===d.labelsWidth&&(d.labelsWidth=0),void 0===d.showLabelsColumn&&(d.showLabelsColumn=!0),void 0===d.showTooltips&&(d.showTooltips=!0),void 0===d.timeFramesWorkingMode&&(d.timeFramesWorkingMode="hidden"),void 0===d.timeFramesNonWorkingMode&&(d.timeFramesNonWorkingMode="visible"),void 0===d.columnMagnet&&(d.columnMagnet="15 minutes"),void 0===d.tooltipDateFormat&&(d.tooltipDateFormat="MMM DD, HH:mm");var f={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"HH:mm"},i={day:"LL",hour:"H",minute:"HH:mm"},j={year:"YYYY",quarter:"[Q]Q",month:"MMMM"};d.getHeaderFormat=function(a){var b;return void 0!==d.headersFormats&&(b=d.headersFormats[a]),void 0===b&&(["millisecond","second","minute","hour"].indexOf(d.viewScale)>-1?b=i[a]:["month","quarter","year"].indexOf(d.viewScale)>-1&&(b=j[a]),void 0===b&&(b=f[a])),b},g(!1,e),d.calendar=new b,d.calendar.registerTimeFrames(d.timeFrames),d.calendar.registerDateFrames(d.dateFrames),d.$watch("timeFrames",function(){d.calendar.clearTimeFrames(),d.calendar.registerTimeFrames(d.timeFrames)}),d.$watch("dateFrames",function(){d.calendar.clearDateFrames(),d.calendar.registerDateFrames(d.dateFrames)}),d.template={},d.gantt=new a(d,e),d.$watch("sortMode",function(a,b){angular.equals(a,b)||d.sortRows()}),d.$watch("timespans",function(a,b){angular.equals(a,b)||(d.removeAllTimespans(),d.setTimespans(a))}),d.$watch("data",function(a,b){angular.equals(a,b)||(d.removeAllData(),d.setData(a))}),d.swapRows=function(a,b){d.gantt.swapRows(a,b),d.$emit(h.ROW_CHANGED,{row:a}),d.$emit(h.ROW_ORDER_CHANGED,{row:a}),d.$emit(h.ROW_CHANGED,{row:b}),d.$emit(h.ROW_ORDER_CHANGED,{row:b}),"custom"!==d.sortMode?d.sortMode="custom":d.sortRows()},d.sortRows=function(){d.gantt.sortRows(d.sortMode)},d.scrollTo=function(a){d.template.scrollable.$element[0].scrollLeft=a,d.template.scrollable.$element.triggerHandler("scroll")},d.scrollToLeft=function(a){d.template.scrollable.$element[0].scrollLeft-=a,d.template.scrollable.$element.triggerHandler("scroll")},d.scrollToRight=function(a){d.template.scrollable.$element[0].scrollLeft+=a,d.template.scrollable.$element.triggerHandler("scroll")},d.scrollToDate=function(a){var b=d.gantt.getPositionByDate(a);void 0!==b&&(d.template.scrollable.$element[0].scrollLeft=b-d.template.scrollable.$element[0].offsetWidth/2)};var k,l=500;d.autoExpandColumns=function(a,b,e){if(!("both"!==d.autoExpand&&d.autoExpand!==!0&&d.autoExpand!==e||Date.now()-k<l)){var f,g,h=1,i=31;"left"===e?(f="hour"===d.viewScale?c(b).add(-h,"day"):c(b).add(-i,"day"),g=b):(f=b,g="hour"===d.viewScale?c(b).add(h,"day"):c(b).add(i,"day")),d.fromDate=f,d.toDate=g,k=Date.now()}},d.setData=function(a){d.gantt.addData(a),d.sortRows()},d.removeData({fn:function(a){d.gantt.removeData(a),d.sortRows()}}),d.removeAllData=function(){d.gantt.removeAllRows(),d.gantt.updateColumns()},d.removeAllTimespans=function(){d.gantt.removeAllTimespans(),d.gantt.updateColumns()},d.setTimespans=function(a){d.gantt.addTimespans(a)},d.loadData({fn:d.setData}),d.loadTimespans({fn:d.setTimespans}),d.clearData({fn:d.removeAllData}),d.centerDate({fn:d.scrollToDate}),d.$emit(h.READY)}]}}]),gantt.factory("GanttCalendar",["$filter",function(a){var b=function(a){var c=this;void 0===a&&(a={}),c.start=a.start,c.end=a.end,c.working=a.working,c.default=a.default,c.color=a.color,c.classes=a.classes,c.getDuration=function(){return c.end.diff(c.start,"milliseconds")},c.clone=function(){return new b(c)}},c=function(a){var b=this;b.func=a,b.getTimeFrames=function(a){var c=b.func(a);return c instanceof Array||(c=[c]),c},b.clone=function(){return new c(b.func)}},d=function(a){var b=this;b.evaluator=a.evaluator,a.date?(b.start=moment(a.date).startOf("day"),b.end=moment(a.date).endOf("day")):(b.start=a.start,b.end=a.end),b.targets=a.targets instanceof Array?a.targets:[a.targets],b.default=a.default,b.dateMatch=function(a){return b.evaluator?b.evaluator(a):b.start&&b.end?a>=b.start&&a<=b.end:!1},b.clone=function(){return new d(b)}},e=function(){var e=this;e.timeFrames={},e.timeFrameMappings={},e.dateFrames={},e.clear=function(){e.timeFrames={},e.timeFrameMappings={},e.dateFrames={}},e.registerTimeFrames=function(a){angular.forEach(a,function(a,c){e.timeFrames[c]=new b(a)})},e.removeTimeFrames=function(a){angular.forEach(a,function(a){delete e.timeFrames[a]})},e.clearTimeFrames=function(){e.timeFrames={}},e.registerTimeFrameMappings=function(a){angular.forEach(a,function(a,b){e.timeFrameMappings[b]=new c(a)})},e.removeTimeFrameMappings=function(a){angular.forEach(a,function(a){delete e.timeFrameMappings[a]})},e.clearTimeFrameMappings=function(){e.timeFrameMappings={}},e.registerDateFrames=function(a){angular.forEach(a,function(a,b){e.dateFrames[b]=new d(a)})},e.removeDateFrames=function(a){angular.forEach(a,function(a){delete e.dateFrames[a]})},e.clearDateFrames=function(){e.dateFrames={}};var f=function(a){var b=[];return angular.forEach(e.dateFrames,function(c){c.dateMatch(a)&&b.push(c)}),0===b.length&&angular.forEach(e.dateFrames,function(a){a.default&&b.push(a)}),b};e.getTimeFrames=function(a){var b=[],c=f(a);angular.forEach(c,function(a){void 0!==a&&angular.forEach(a.targets,function(a){var c=e.timeFrameMappings[a];if(void 0!==c)b.push(c.getTimeFrames());else{var d=e.timeFrames[a];void 0!==d&&b.push(d)}})});var d=a.year(),g=a.month(),h=a.date(),i=[];return 0===b.length&&angular.forEach(e.timeFrames,function(a){a.default&&b.push(a)}),angular.forEach(b,function(a){a=a.clone(),void 0!==a.start&&(a.start.year(d),a.start.month(g),a.start.date(h)),void 0!==a.end&&(a.end.year(d),a.end.month(g),a.end.date(h),moment(a.end).startOf("day")===a.end&&a.end.add(1,"day")),i.push(a)}),i},e.solve=function(c,d,e){var f,g,h,i,j=0===c.length;angular.forEach(c,function(a){(void 0===h||h>a.start)&&(h=a.start),(void 0===i||i<a.end)&&(i=a.end),void 0===f&&a.color&&(f=a.color),void 0!==a.classes&&(void 0===g&&(g=[]),g=g.concat(a.classes))}),void 0===d&&(d=h),void 0===e&&(e=i);var k=[new b({start:d,end:e,working:j,color:f,classes:g})],l=a("orderBy")(c,function(a){return-a.getDuration()});return angular.forEach(l,function(a){var b=k.slice(),c=0,d=!1,e=!1;angular.forEach(k,function(f){if(!e){if(a.end>f.start&&a.start<f.end){a=a.clone();var g=f.clone();f.end=moment(a.start),g.start=moment(a.end),b.splice(c+1,0,a.clone(),g),e=!0}else!d&&a.start<f.end?(a=a.clone(),f.end=moment(a.start),b.splice(c+1,0,a),d=!0):d&&a.end>f.start&&(f.start=moment(a.end),d=!1,e=!0);c++}}),k=b}),k=a("filter")(k,function(a){return(void 0===a.start||a.start<e)&&(void 0===a.end||a.end>d)})}};return e}]),gantt.factory("GanttColumn",["moment",function(a){var b=function(c,d,e,f,g,h,i,j,k){var l=this;l.date=c,l.endDate=d,l.left=e,l.width=f,l.calendar=g,l.duration=l.endDate.diff(l.date,"milliseconds"),l.timeFramesWorkingMode=h,l.timeFramesNonWorkingMode=i,l.timeFrames=[],l.visibleTimeFrames=[],l.daysTimeFrames={},l.cropped=!1,l.columnMagnetValue=j,l.columnMagnetUnit=k,l.originalSize={left:l.left,width:l.width};var m=function(a){return a.year()+"-"+a.month()+"-"+a.date()};if(void 0!==l.calendar&&("hidden"!==l.timeFramesNonWorkingMode||"hidden"!==l.timeFramesWorkingMode)){for(var n=function(b,c,d){return function(e){var f=e.start;void 0===f&&(f=c);var g=e.end;void 0===g&&(g=d),f<l.date&&(f=l.date),g>l.endDate&&(g=l.endDate),e=e.clone(),e.start=a(f),e.end=a(g),b.push(e)}},o=l.date,p=a(o).startOf("day"),q=p.add(1,"day");o<l.endDate;){var r=l.calendar.getTimeFrames(o),s=a.min(q,l.endDate);r=l.calendar.solve(r,o,s);var t=[];angular.forEach(r,n(t,o,s)),l.timeFrames=l.timeFrames.concat(t);var u=m(o);l.daysTimeFrames[u]=t,o=s,p=a(o).startOf("day"),q=p.add(1,"day")}if(angular.forEach(l.timeFrames,function(a){var b=a.start.diff(l.date,"milliseconds"),c=b/l.duration*l.width,d=a.end.diff(a.start,"milliseconds"),e=d/l.duration*l.width,f=!1;a.working&&"visible"!==l.timeFramesWorkingMode?f=!0:a.working||"visible"===l.timeFramesNonWorkingMode||(f=!0),f||l.visibleTimeFrames.push(a),a.hidden=f,a.left=c,a.width=e,a.originalSize={left:a.left,width:a.width}}),"cropped"===l.timeFramesNonWorkingMode||"cropped"===l.timeFramesWorkingMode){var v=0;if(angular.forEach(l.timeFrames,function(a){(!a.working&&"cropped"!==l.timeFramesNonWorkingMode||a.working&&"cropped"!==l.timeFramesWorkingMode)&&(v+=a.width)}),v!==l.width){var w=l.width/v,x=0,y=0,z=!0;angular.forEach(l.timeFrames,function(a){!a.working&&"cropped"!==l.timeFramesNonWorkingMode||a.working&&"cropped"!==l.timeFramesWorkingMode?(a.left=(a.left-x)*w,a.width=a.width*w,a.originalSize.left=(a.originalSize.left-y)*w,a.originalSize.width=a.originalSize.width*w,a.cropped=!1,z=!1):(x+=a.width,y+=a.originalSize.width,a.left=void 0,a.width=0,a.originalSize={left:void 0,width:0},a.cropped=!0)}),l.cropped=z}else l.cropped=!1}}l.clone=function(){return new b(a(l.date),a(l.endDate),l.left,l.width,l.calendar)},l.containsDate=function(a){return a>l.date&&a<=l.endDate},l.equals=function(a){return l.date===a.date},l.getMagnetDate=function(b){if(l.columnMagnetValue>0&&void 0!==l.columnMagnetUnit){b=a(b);var c=b.get(l.columnMagnetUnit),d=Math.round(c/l.columnMagnetValue)*l.columnMagnetValue;return b.startOf(l.columnMagnetUnit),b.set(l.columnMagnetUnit,d),b}return b};var A=function(b,c){for(var d=0;d<b.length;d++){var e=b[d];if(!e.cropped&&c>=e.left&&c<=e.left+e.width){var f=e.getDuration()/e.width*(c-e.left),g=a(e.start).add(f,"milliseconds");return g}}};l.getDateByPosition=function(b,c){var d,e;return 0>b&&(b=0),b>l.width&&(b=l.width),("cropped"===l.timeFramesNonWorkingMode||"cropped"===l.timeFramesWorkingMode)&&(e=A(l.timeFrames,b)),void 0===e&&(d=l.duration/l.width*b,e=a(l.date).add(d,"milliseconds")),c?l.getMagnetDate(e):e};var B=function(a){var b=l.daysTimeFrames[m(a)];return void 0===b?[]:b};l.getPositionByDate=function(a){var b,c;if("cropped"===l.timeFramesNonWorkingMode||"cropped"===l.timeFramesWorkingMode)for(var d=a,e=B(d),f=0;f<e.length;f++){var g=e[f];if(d>=g.start&&d<=g.end){if(!g.cropped)return b=d.diff(g.start,"milliseconds"),c=b/g.getDuration()*g.width,l.left+g.left+c;d=e.length>f+1?e[f+1].start:g.end}}return b=a.diff(l.date,"milliseconds"),c=b/l.duration*l.width,0>c&&(c=0),c>l.width&&(c=l.width),l.left+c}};return b}]),gantt.factory("GanttColumnGenerator",["GanttColumn","moment",function(a,b){var c=function(c){var d=this,e=c.columnWidth;void 0===e&&(e=20);var f,g,h=c.viewScale,i=c.calendar,j=c.timeFramesWorkingMode,k=c.timeFramesNonWorkingMode;if(c.columnMagnet){var l=c.columnMagnet.trim().split(" ");l.length>1&&(f=parseInt(l[0]),g=l[l.length-1])}d.generate=function(c,d,l,n,o){if(!d&&!l)throw"to or maximumWidth must be defined";var p=!1;c=b(c).startOf(h),d&&(p=m(d),d=b(d).startOf(h));for(var q=b(c).startOf(h),r=[],s=0;;){if(l&&Math.abs(s)>l+e)break;var t=b(q),u=b(t).add(1,h),v=new a(t,u,n?s+n:s,e,i,j,k,f,g);if(!v.cropped&&(r.push(v),o?s-=e:s+=e,d))if(o){if(p&&d>q||!p&&d>=q)break}else if(p&&q>d||!p&&q>=d)break;q.add(o?-1:1,h)}return o&&(m(c)&&r.shift(),r.reverse()),r};var m=function(a){return b(a).add(1,h).startOf(h)===a}};return c}]),gantt.factory("GanttColumnHeader",["moment","GanttColumn",function(a,b){var c=function(c,d,e,f,g){var h=a(c),i=a(h).add(1,d),j=new b(h,i,e,f);return j.unit=d,j.label=g,j};return c}]),gantt.service("GanttEvents",["ganttMouseOffset",function(a){return{buildTaskEventData:function(b,c,d,e){var f={evt:b,element:c,task:d};if(void 0!==e&&void 0!==b){var g=a.getOffset(b).x;f.column=e.getColumnByPosition(g+d.left),f.date=e.getDateByPosition(g+d.left)}return f},buildRowEventData:function(b,c,d,e){var f={evt:b,element:c,row:d};if(void 0!==e&&void 0!==b){var g=a.getOffset(b).x;f.column=e.getColumnByPosition(g),f.date=e.getDateByPosition(g)}return f},buildColumnEventData:function(a,b,c){var d={evt:a,element:b,column:c};return d}}}]),gantt.factory("Gantt",["$filter","GanttRow","GanttTimespan","GanttColumnGenerator","GanttHeaderGenerator","moment","ganttBinarySearch","ganttLayout","GANTT_EVENTS",function(a,b,c,d,e,f,g,h,i){var j=function(j,k){var l=this;l.$scope=j,l.$element=k,l.rowsMap={},l.rows=[],l.filteredRows=[],l.visibleRows=[],l.timespansMap={},l.timespans=[],l.columns=[],l.visibleColumns=[],l.headers={},l.visibleHeaders={},l.previousColumns=[],l.nextColumns=[],l.width=0,l.from=void 0,l.to=void 0,l.scrollAnchor=void 0,j.$watch("viewScale+width+labelsWidth+columnWidth+timeFramesWorkingMode+timeFramesNonWorkingMode+columnMagnet",function(a,b){angular.equals(a,b)||(l.buildGenerators(),l.clearColumns(),l.updateColumns())}),j.$watch("fromDate+toDate+autoExpand+taskOutOfRange",function(a,b){angular.equals(a,b)||l.updateColumns()}),j.$watch("currentDate+currentDateValue",function(a,b){angular.equals(a,b)||l.setCurrentDate(j.currentDateValue)}),j.$watch("ganttElementWidth+labelsWidth+showLabelsColumn+maxHeight",function(a,b){angular.equals(a,b)||v()});var m=function(){l.visibleColumns=a("ganttColumnLimit")(l.columns,j.scrollLeft,j.scrollWidth),angular.forEach(l.headers,function(b,c){l.headers.hasOwnProperty(c)&&(l.visibleHeaders[c]=a("ganttColumnLimit")(b,j.scrollLeft,j.scrollWidth))})},n=function(){var b=l.filteredRows;l.filteredRows=j.filterRow?a("filter")(l.rows,j.filterRow,j.filterRowComparator):l.rows.slice(0);var c;angular.equals(b,l.filteredRows)||(c={rows:l.rows,filteredRows:l.filteredRows}),l.visibleRows=l.filteredRows,void 0!==c&&j.$emit(i.ROWS_FILTERED,c)},o=function(){var a=[],b=[],c=[];angular.forEach(l.filteredRows,function(d){a=a.concat(d.filteredTasks),d.updateVisibleTasks(),b=b.concat(d.filteredTasks),c=c.concat(d.tasks)});var d;angular.equals(a,b)||(d={tasks:c,filteredTasks:b}),void 0!==d&&j.$emit(i.TASKS_FILTERED,d)},p=function(){n(),o()};m(),p(),j.$watch("scrollLeft+scrollWidth",function(a,b){angular.equals(a,b)||(m(),o())}),j.$watch("filterTask+filterTaskComparator",function(a,b){angular.equals(a,b)||o()}),j.$watch("filterRow+filterRowComparator",function(a,b){angular.equals(a,b)||n()});var q=function(){if(j.template.scrollable&&j.template.scrollable.$element&&l.columns.length>0){var a=j.template.scrollable.$element[0],b=a.scrollLeft+a.offsetWidth/2;l.scrollAnchor=l.getDateByPosition(b)}},r=function(a){a=a?f(a):a;var b=a;return angular.forEach(l.rows,function(a){(void 0===b||b>a.from)&&(b=a.from)}),b&&(!a||a>b)?b:a},s=function(a){a=a?f(a):a;var b=a;return angular.forEach(l.rows,function(a){(void 0===b||b<a.to)&&(b=a.to)}),b&&(!j.toDate||b>j.toDate)?b:a},t=function(a,b){return(a||(a=y()))&&(b||(b=z()))?l.from===a&&l.to===b?!1:(q(),l.from=a,l.to=b,l.columns=l.columnGenerator.generate(a,b),l.headers=l.headerGenerator.generate(l.columns),l.previousColumns=[],l.nextColumns=[],v(),!0):!1},u=function(a,b,c){if(a&&b&&c){var d=Math.abs(a/b);angular.forEach(c,function(a){a.left=d*a.originalSize.left,a.width=d*a.originalSize.width,angular.forEach(a.timeFrames,function(a){a.left=d*a.originalSize.left,a.width=d*a.originalSize.width})})}},v=function(){var a=l.getLastColumn();if(l.originalWidth=void 0!==a?a.originalSize.left+a.originalSize.width:0,void 0===j.columnWidth){var b=j.ganttElementWidth-(j.showLabelsColumn?j.labelsWidth:0);j.maxHeight>0&&(b-=h.getScrollBarWidth()),u(b,l.originalWidth,l.previousColumns),u(b,l.originalWidth,l.columns),u(b,l.originalWidth,l.nextColumns),angular.forEach(l.headers,function(a){u(b,l.originalWidth,a)})}l.width=void 0!==a?a.left+a.width:0,void 0!==l._currentDate&&l.setCurrentDate(l._currentDate),j.currentDatePosition=l.getPositionByDate(j.currentDateValue),l.updateTasksPosAndSize(),l.updateTimespansPosAndSize(),m(),p()},w=function(a){if(0>a){var b=l.getFirstColumn(),c=b.date,d=l.getFirstColumn(!0);return(!d||d.left>a)&&(l.previousColumns=l.columnGenerator.generate(c,void 0,-a,0,!0)),!0}if(a>l.width){var e=l.getLastColumn(),f=e.getDateByPosition(e.width),g=l.getLastColumn(!0);return(!g||g.left+g.width<a)&&(l.nextColumns=l.columnGenerator.generate(f,void 0,a-l.width,l.width,!1)),!0}return!1},x=function(a){var b,c=l.getFirstColumn();c&&(b=c.date);var d,e=l.getLastColumn();if(e&&(d=e.getDateByPosition(e.width)),b&&b>a){var f=l.getFirstColumn(!0);return(!f||f.date>a)&&(l.previousColumns=l.columnGenerator.generate(b,a,void 0,0,!0)),!0}if(d&&a>d){var g=l.getLastColumn(!0);return(!g||g>d)&&(l.nextColumns=l.columnGenerator.generate(d,a,void 0,l.width,!1)),!0}return!1};l.buildGenerators=function(){l.columnGenerator=new d(j),l.headerGenerator=new e(j)};var y=function(){var a;return angular.forEach(l.timespans,function(b){(void 0===a||b.from<a)&&(a=b.from)}),angular.forEach(l.rows,function(b){(void 0===a||b.from<a)&&(a=b.from)}),a},z=function(){var a;return angular.forEach(l.timespans,function(b){(void 0===a||b.to>a)&&(a=b.to)}),angular.forEach(l.rows,function(b){(void 0===a||b.to>a)&&(a=b.to)}),a};l.updateColumns=function(){var a=j.fromDate,b=j.toDate;"expand"===j.taskOutOfRange&&(a=r(a),b=s(b)),t(a,b)},l.clearColumns=function(){q(),l.from=void 0,l.to=void 0,l.columns=[],l.visibleColumns=[],l.previousColumns=[],l.nextColumns=[],l.visibleHeaders={},l.visibleRows=[]},l.updateTasksPosAndSize=function(){for(var a=0,b=l.rows.length;b>a;a++)l.rows[a].updateTasksPosAndSize()},l.updateTimespansPosAndSize=function(){for(var a=0,b=l.timespans.length;b>a;a++)l.timespans[a].updatePosAndSize()},l.getLastColumn=function(a){var b=l.columns;return a&&(b=l.nextColumns),b&&b.length>0?b[b.length-1]:void 0},l.getFirstColumn=function(a){var b=l.columns;return a&&(b=l.previousColumns),b&&b.length>0?b[0]:void 0},l.getColumnByDate=function(a){x(a);var b=l.previousColumns.concat(l.columns,l.nextColumns),c=g.get(b,a,function(a){return a.date});return void 0!==c[0]?c[0]:c[1]},l.getColumnByPosition=function(a){w(a);var b=l.previousColumns.concat(l.columns,l.nextColumns);return g.get(b,a,function(a){return a.left})[0]},l.getDateByPosition=function(a,b){var c=l.getColumnByPosition(a);return void 0!==c?c.getDateByPosition(a-c.left,b):void 0},l.getPositionByDate=function(a){if(void 0===a)return void 0;f.isMoment(f)||(a=f(a));var b=l.getColumnByDate(a);return void 0!==b?b.getPositionByDate(a):void 0},l.getTasksDateRange=function(){if(0===l.rows.length)return void 0;for(var a,b,c=0,d=l.rows.length;d>c;c++){var e=l.rows[c];(void 0===a||e.from<a)&&(a=e.from),(void 0===b||e.to>b)&&(b=e.to)}return{from:a,to:b}},l.getActiveHeadersCount=function(){var a,b=0;for(a in l.headers)l.headers.hasOwnProperty(a)&&b++;return b},l.addData=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];A(d)}l.updateColumns(),l.updateTasksPosAndSize(),p()};var A=function(a){var c,d=!1;if(a.id in l.rowsMap)c=l.rowsMap[a.id],c.copy(a),d=!0,j.$emit(i.ROW_CHANGED,{row:c});else{var e=a.order;void 0===e&&(e=l.highestRowOrder),e>=l.highestRowOrder&&(l.highestRowOrder=e+1),c=new b(a.id,l,a.name,e,a.height,a.color,a.classes,a.data),l.rowsMap[a.id]=c,l.rows.push(c),l.filteredRows.push(c),l.visibleRows.push(c),j.$emit(i.ROW_ADDED,{row:c})}if(void 0!==a.tasks&&a.tasks.length>0)for(var f=0,g=a.tasks.length;g>f;f++)c.addTask(a.tasks[f]);return d};l.removeData=function(a){for(var b=0,c=a.length;c>b;b++){var d,e=a[b];if(void 0!==e.tasks&&e.tasks.length>0){if(e.id in l.rowsMap){d=l.rowsMap[e.id];for(var f=0,g=e.tasks.length;g>f;f++)d.removeTask(e.tasks[f].id);j.$emit(i.ROW_CHANGED,{row:d})}}else d=B(e.id)}l.updateColumns(),p()};var B=function(a){if(a in l.rowsMap){delete l.rowsMap[a];for(var b,c,d=l.rows.length-1;d>=0;d--)c=l.rows[d],c.id===a&&(b=c,l.rows.splice(d,1));for(d=l.filteredRows.length-1;d>=0;d--)c=l.filteredRows[d],c.id===a&&l.filteredRows.splice(d,1);for(d=l.visibleRows.length-1;d>=0;d--)c=l.visibleRows[d],c.id===a&&l.visibleRows.splice(d,1);return j.$emit(i.ROW_REMOVED,{row:b}),c}return void 0};l.removeAllRows=function(){l.rowsMap={},l.rows=[],l.filteredRows=[],l.visibleRows=[],l.highestRowOrder=0,l.clearColumns(),l.scrollAnchor=void 0},l.removeAllTimespans=function(){l.timespansMap={},l.timespans=[]},l.swapRows=function(a,b){var c=a.order;a.order=b.order,b.order=c},l.sortRows=function(b){var c=!1;b=b,"-"===b.charAt(0)&&(c=!0,b=b.substr(1));var d=a("orderBy");l.rows="custom"===b?d(l.rows,"order",c):d(l.rows,b,c),n()},l.addTimespans=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];C(d);var e=l.timespansMap[d.id];e.updatePosAndSize()}};var C=function(a){var b,d=!1;return a.id in l.timespansMap?(b=l.timespansMap[a.id],b.copy(a),d=!0):(b=new c(a.id,l,a.name,a.color,a.classes,a.priority,a.from,a.to,a.data),l.timespansMap[a.id]=b,l.timespans.push(b),j.$emit(i.TIMESPAN_ADDED,{timespan:b})),d};l.setCurrentDate=function(a){if(l._currentDate=a,void 0!==l._currentDateColumn&&delete l._currentDateColumn,void 0!==l._currentDate){var b=l.getColumnByDate(l._currentDate);void 0!==b&&(b.currentDate=l._currentDate,l._currentDateColumn=b)}j.currentDatePosition=l.getPositionByDate(j.currentDateValue)},l.buildGenerators(),l.clearColumns(),l.updateColumns(),l.setCurrentDate(j.currentDateValue)};return j}]),gantt.factory("GanttHeaderGenerator",["GanttColumnHeader",function(a){var b=function(b,c,d){for(var e,f=[],g=0,h=c.length;h>g;g++){var i=c[g];if(0===g||c[g-1].date.get(d)!==i.date.get(d)){var j=i.date.format(b(d));e=new a(i.date,d,i.originalSize.left,i.originalSize.width,j),e.left=i.left,e.width=i.width,f.push(e)}else e.originalSize.width+=i.originalSize.width,e.width+=i.width}return f};return function(a){this.generate=function(c){var d=[];void 0===a.headers?(d=[],["year","quarter","month"].indexOf(a.viewScale)>-1&&d.push("year"),["quarter"].indexOf(a.viewScale)>-1&&d.push("quarter"),["day","week","month"].indexOf(a.viewScale)>-1&&d.push("month"),["day","week"].indexOf(a.viewScale)>-1&&d.push("week"),["hour","day"].indexOf(a.viewScale)>-1&&d.push("day"),["hour","minute","second"].indexOf(a.viewScale)>-1&&d.push("hour"),["minute","second"].indexOf(a.viewScale)>-1&&d.push("minute"),["second"].indexOf(a.viewScale)>-1&&d.push("second"),0===d.length&&d.push(a.viewScale)):d=a.headers;var e=[];return angular.forEach(d,function(d){e.push(b(a.getHeaderFormat,c,d))}),e}}}]),gantt.factory("GanttRow",["GanttTask","moment","$filter","GANTT_EVENTS",function(a,b,c,d){var e=function(f,g,h,i,j,k,l,m){var n=this;n.id=f,n.gantt=g,n.name=h,n.order=i,n.height=j,n.color=k,n.classes=l,n.from=void 0,n.to=void 0,n.tasksMap={},n.tasks=[],n.filteredTasks=[],n.visibleTasks=[],n.data=m,n.addTask=function(b){var c;return b.id in n.tasksMap?(c=n.tasksMap[b.id],c.copy(b)):(c=new a(b.id,n,b.name,b.color,b.classes,b.priority,b.from,b.to,b.data,b.est,b.lct,b.progress),n.tasksMap[b.id]=c,n.tasks.push(c),n.filteredTasks.push(c),n.visibleTasks.push(c)),n.sortTasks(),n.setFromToByTask(c),n.gantt.$scope.$emit(d.TASK_ADDED,{task:c}),c},n.moveTaskToRow=function(a){var b=a.row;b.removeTask(a.id,!0),b.updateVisibleTasks(),n.tasksMap[a.id]=a,n.tasks.push(a),n.filteredTasks.push(a),n.visibleTasks.push(a),a.row=n,n.sortTasks(),n.setFromToByTask(a),a.updatePosAndSize(),n.updateVisibleTasks(),n.gantt.$scope.$emit(d.TASK_MOVED,{oldRow:b,task:a})},n.updateVisibleTasks=function(){n.filteredTasks=g.$scope.filterTask?c("filter")(n.tasks,g.$scope.filterTask,g.$scope.filterTaskComparator):n.tasks.slice(0),n.visibleTasks=c("ganttTaskLimit")(n.filteredTasks,n.gantt)},n.updateTasksPosAndSize=function(){for(var a=0,b=n.tasks.length;b>a;a++)n.tasks[a].updatePosAndSize()},n.removeTask=function(a,b){if(a in n.tasksMap){delete n.tasksMap[a];for(var c,e,f=n.tasks.length-1;f>=0;f--)c=n.tasks[f],c.id===a&&(e=c,n.tasks.splice(f,1),(n.from-c.from===0||n.to-c.to===0)&&n.setFromTo());for(f=n.filteredTasks.length-1;f>=0;f--)c=n.filteredTasks[f],c.id===a&&n.filteredTasks.splice(f,1);for(f=n.visibleTasks.length-1;f>=0;f--)c=n.visibleTasks[f],c.id===a&&n.visibleTasks.splice(f,1);return b||n.gantt.$scope.$emit(d.TASK_REMOVED,{task:e}),e}},n.setFromTo=function(){n.from=void 0,n.to=void 0;for(var a=0,b=n.tasks.length;b>a;a++)n.setFromToByTask(n.tasks[a])},n.setFromToByTask=function(a){void 0===n.from?n.from=b(a.from):a.from<n.from&&(n.from=b(a.from)),void 0===n.to?n.to=b(a.to):a.to>n.to&&(n.to=b(a.to))},n.sortTasks=function(){n.tasks.sort(function(a,b){return a.left-b.left})},n.copy=function(a){n.name=a.name,n.height=a.height,n.color=a.color,n.classes=a.classes,n.data=a.data,void 0!==a.order&&(n.order=a.order)},n.clone=function(){for(var a=new e(n.id,n.gantt,n.name,n.order,n.height,n.color,n.classes,n.data),b=0,c=n.tasks.length;c>b;b++)a.addTask(n.tasks[b].clone());return a}};return e}]),gantt.factory("GanttScrollable",[function(){var a=function(a){this.$element=a};return a}]),gantt.factory("GanttTask",["moment","GanttTaskProgress",function(a,b){var c=function(d,e,f,g,h,i,j,k,l,m,n,o){var p=this;p.id=d,p.gantt=e.gantt,p.row=e,p.name=f,p.color=g,p.classes=h,p.priority=i,p.from=a(j),p.to=a(k),p.truncatedLeft=!1,p.truncatedRight=!1,p.data=l,void 0!==o&&(p.progress="object"==typeof o?new b(p,o.percent,o.color,o.classes):new b(p,o)),void 0!==m&&void 0!==n&&(p.est=a(m),p.lct=a(n)),p._fromLabel=void 0,p.getFromLabel=function(){return void 0===p._fromLabel&&(p._fromLabel=p.from.format(p.gantt.$scope.tooltipDateFormat)),p._fromLabel},p._toLabel=void 0,p.getToLabel=function(){return void 0===p._toLabel&&(p._toLabel=p.to.format(p.gantt.$scope.tooltipDateFormat)),p._toLabel},p.checkIfMilestone=function(){p.isMilestone=p.from-p.to===0},p.checkIfMilestone(),p.hasBounds=function(){return void 0!==p.bounds},p.updatePosAndSize=function(){p.modelLeft=p.gantt.getPositionByDate(p.from),p.modelWidth=p.gantt.getPositionByDate(p.to)-p.modelLeft,p.outOfRange=p.modelLeft+p.modelWidth<0||p.modelLeft>p.gantt.width,p.left=Math.min(Math.max(p.modelLeft,0),p.gantt.width),p.modelLeft<0?(p.truncatedLeft=!0,p.modelWidth+p.modelLeft>p.gantt.width?(p.truncatedRight=!0,p.width=p.gantt.width):(p.truncatedRight=!1,p.width=p.modelWidth+p.modelLeft)):p.modelWidth+p.modelLeft>p.gantt.width?(p.truncatedRight=!0,p.truncatedLeft=!1,p.width=p.gantt.width-p.modelLeft):(p.truncatedLeft=!1,p.truncatedRight=!1,p.width=p.modelWidth),void 0!==p.est&&void 0!==p.lct&&(p.bounds={},p.bounds.left=p.gantt.getPositionByDate(p.est),p.bounds.width=p.gantt.getPositionByDate(p.lct)-p.bounds.left)},p.setFrom=function(a){p.from=p.gantt.getDateByPosition(a,!0),p._fromLabel=void 0,p.row.setFromToByTask(p),p.updatePosAndSize(),p.checkIfMilestone()},p.setTo=function(a){p.to=p.gantt.getDateByPosition(a,!0),p._toLabel=void 0,p.row.setFromToByTask(p),p.updatePosAndSize(),p.checkIfMilestone()},p.moveTo=function(a){p.from=p.gantt.getDateByPosition(a,!0),p._fromLabel=void 0;var b=p.gantt.getPositionByDate(p.from);p.to=p.gantt.getDateByPosition(b+p.modelWidth,!0),p._toLabel=void 0,p.row.setFromToByTask(p),p.updatePosAndSize()},p.copy=function(b){p.name=b.name,p.color=b.color,p.classes=b.classes,p.priority=b.priority,p.from=a(b.from),p.to=a(b.to),p.est=void 0!==b.est?a(b.est):void 0,p.lct=void 0!==b.lct?a(b.lct):void 0,p.data=b.data,p.isMilestone=b.isMilestone},p.clone=function(){return new c(p.id,p.row,p.name,p.color,p.classes,p.priority,p.from,p.to,p.data,p.est,p.lct,p.progress)}};return c}]),gantt.factory("GanttTaskProgress",[function(){var a=function(b,c,d,e){var f=this;f.task=b,f.percent=c,f.color=d,f.classes=e,f.clone=function(){return new a(f.task,f.percent,f.color,f.classes)}};return a}]),gantt.factory("GanttBody",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()}};return a}]),gantt.factory("GanttBodyColumns",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()}};return a}]),gantt.factory("GanttBodyRows",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()}};return a}]),gantt.factory("GanttHeader",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()},this.getHeight=function(){return this.$element[0].offsetHeight}};return a}]),gantt.factory("GanttHeaderColumns",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()}};return a}]),gantt.factory("GanttLabels",[function(){var a=function(a){this.$element=a,this.getWidth=function(){return this.$element.width()}};return a}]),gantt.factory("GanttTimespan",["moment",function(a){var b=function(c,d,e,f,g,h,i,j,k,l,m){var n=this;n.id=c,n.gantt=d,n.name=e,n.color=f,n.classes=g,n.priority=h,n.from=a(i),n.to=a(j),n.data=k,void 0!==l&&void 0!==m&&(n.est=a(l),n.lct=a(m)),n.hasBounds=function(){return void 0!==n.bounds},n.updatePosAndSize=function(){n.left=n.gantt.getPositionByDate(n.from),n.width=n.gantt.getPositionByDate(n.to)-n.left,void 0!==n.est&&void 0!==n.lct&&(n.bounds={},n.bounds.left=n.gantt.getPositionByDate(n.est),n.bounds.width=n.gantt.getPositionByDate(n.lct)-n.bounds.left)
},n.setFrom=function(a){n.from=n.gantt.getDateByPosition(a),n.updatePosAndSize()},n.setTo=function(a){n.to=n.gantt.getDateByPosition(a),n.updatePosAndSize()},n.moveTo=function(a){n.from=n.gantt.getDateByPosition(a),n.to=n.gantt.getDateByPosition(a+n.width),n.updatePosAndSize()},n.copy=function(b){n.name=b.name,n.color=b.color,n.classes=b.classes,n.priority=b.priority,n.from=a(b.from),n.to=a(b.to),n.est=void 0!==b.est?a(b.est):void 0,n.lct=void 0!==b.lct?a(b.lct):void 0,n.data=b.data},n.clone=function(){return new b(n.id,n.gantt,n.name,n.color,n.classes,n.priority,n.from,n.to,n.data,n.est,n.lct)}};return b}]),gantt.service("ganttBinarySearch",[function(){return{getIndicesOnly:function(a,b,c){for(var d=-1,e=a.length;e-d>1;){var f=Math.floor((d+e)/2);c(a[f])<=b?d=f:e=f}return void 0!==a[d]&&c(a[d])===b&&(e=d),[d,e]},get:function(a,b,c){var d=this.getIndicesOnly(a,b,c);return[a[d[0]],a[d[1]]]}}}]),gantt.filter("ganttColumnLimit",["ganttBinarySearch",function(a){return function(b,c,d){var e=function(a){return a.left},f=a.getIndicesOnly(b,c,e)[0],g=a.getIndicesOnly(b,c+d,e)[1];return b.slice(f,g)}}]),gantt.directive("ganttLimitUpdater",["$timeout","ganttDebounce",function(a,b){return{restrict:"A",controller:["$scope","$element",function(a,c){var d=c[0],e=function(){a.scrollLeft=d.scrollLeft,a.scrollWidth=d.offsetWidth};c.bind("scroll",b(function(){e()},5)),a.$watch("gantt.width",b(function(){e()},20))}]}}]),gantt.filter("ganttTaskLimit",[function(){return function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];if(f.isMoving)c.push(f);else if(f.to>b.getFirstColumn().date&&f.from<b.getLastColumn().endDate){var g=b.$scope.scrollLeft,h=b.$scope.scrollWidth;(f.left>=g&&f.left<=g+h||f.left+f.width>=g&&f.left+f.width<=g+h||f.left<g&&f.left+f.width>g+h)&&c.push(f)}}return c}}]),gantt.directive("ganttLabelsResize",["$document","ganttDebounce","ganttMouseOffset","GANTT_EVENTS",function(a,b,c,d){return{restrict:"A",scope:{enabled:"=ganttLabelsResize",width:"=ganttLabelsResizeWidth",minWidth:"=ganttLabelsResizeMinWidth"},controller:["$scope","$element",function(e,f){var g,h=5,i="ew-resize";f.bind("mousedown",function(a){e.enabled&&k(a)&&(l(a),a.preventDefault())}),f.bind("mousemove",function(a){e.enabled&&(k(a)?f.css("cursor",i):f.css("cursor",""))});var j=function(a){0===e.width&&(e.width=f[0].offsetWidth),e.width+=a-g,e.width<e.minWidth&&(e.width=e.minWidth),g=a},k=function(a){var b=c.getOffset(a).x;return b>f[0].offsetWidth-h},l=function(c){g=c.screenX,angular.element(a[0].body).css({"-moz-user-select":"-moz-none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none",cursor:i});var d=b(function(a){j(a.screenX)},5);angular.element(a[0].body).bind("mousemove",d),angular.element(a[0].body).one("mouseup",function(){angular.element(a[0].body).unbind("mousemove",d),m()})},m=function(){f.css("cursor",""),angular.element(a[0].body).css({"-moz-user-select":"","-webkit-user-select":"","-ms-user-select":"","user-select":"",cursor:""}),e.$emit(d.ROW_LABELS_RESIZED,{width:e.width})}}]}}]),gantt.directive("ganttRightClick",["$parse",function(a){return{restrict:"A",compile:function(b,c){var d=a(c.ganttRightClick);return function(a,b){b.on("contextmenu",function(b){a.$apply(function(){d(a,{$event:b})})})}}}}]),gantt.directive("ganttRow",["GanttEvents","GANTT_EVENTS",function(a,b){return{restrict:"E",require:"^ganttBody",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.row.tmpl.html":b.templateUrl},controller:["$scope","$element",function(c,d){c.row.$element=d,d.bind("mousedown",function(e){c.$emit(b.ROW_MOUSEDOWN,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("mouseup",function(e){c.$emit(b.ROW_MOUSEUP,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("click",function(e){c.$emit(b.ROW_CLICKED,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("dblclick",function(e){c.$emit(b.ROW_DBL_CLICKED,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("contextmenu",function(e){c.$emit(b.ROW_CONTEXTMENU,a.buildRowEventData(e,d,c.row,c.gantt))})}]}}]),gantt.directive("ganttRowHeader",["GanttEvents","GANTT_EVENTS",function(a,b){return{restrict:"E",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.rowHeader.tmpl.html":b.templateUrl},controller:["$scope","$element",function(a,c){c.bind("mousedown",function(c){a.$emit(b.ROW_HEADER_MOUSEDOWN,{evt:c})}),c.bind("mouseup",function(c){a.$emit(b.ROW_HEADER_MOUSEUP,{evt:c})}),c.bind("click",function(c){a.$emit(b.ROW_HEADER_CLICKED,{evt:c})}),c.bind("dblclick",function(c){a.$emit(b.ROW_HEADER_DBL_CLICKED,{evt:c})}),c.bind("contextmenu",function(c){a.$emit(b.ROW_HEADER_CONTEXTMENU,{evt:c})})}]}}]),gantt.directive("ganttRowLabel",["GanttEvents","GANTT_EVENTS",function(a,b){return{restrict:"E",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.rowLabel.tmpl.html":b.templateUrl},controller:["$scope","$element",function(c,d){d.bind("mousedown",function(e){c.$emit(b.ROW_LABEL_MOUSEDOWN,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("mouseup",function(e){c.$emit(b.ROW_LABEL_MOUSEUP,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("click",function(e){c.$emit(b.ROW_LABEL_CLICKED,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("dblclick",function(e){c.$emit(b.ROW_LABEL_DBL_CLICKED,a.buildRowEventData(e,d,c.row,c.gantt))}),d.bind("contextmenu",function(e){c.$emit(b.ROW_LABEL_CONTEXTMENU,a.buildRowEventData(e,d,c.row,c.gantt))})}]}}]),gantt.directive("ganttHorizontalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",controller:["$scope","$element",function(a,b){a.scrollManager.horizontal.push(b[0])}]}}),gantt.directive("ganttScrollManager",function(){return{restrict:"A",require:"^gantt",controller:["$scope",function(a){a.scrollManager={horizontal:[],vertical:[]}}]}}),gantt.directive("ganttScrollSender",["$timeout","ganttDebounce","GANTT_EVENTS",function(a,b,c){return{restrict:"A",require:"^ganttScrollManager",controller:["$scope","$element",function(d,e){var f=e[0],g=function(){var a,b;for(a=0,b=d.scrollManager.vertical.length;b>a;a++){var c=d.scrollManager.vertical[a];c.style.top!==-f.scrollTop&&(c.style.top=-f.scrollTop+"px",c.style.height=f.scrollHeight+"px")}for(a=0,b=d.scrollManager.horizontal.length;b>a;a++){var e=d.scrollManager.horizontal[a];e.style.left!==-f.scrollLeft&&(e.style.left=-f.scrollLeft+"px",e.style.width=f.scrollWidth+"px")}};e.bind("scroll",g),d.$on(c.ROW_ADDED,b(function(){g()},5)),d.$watch("gantt.width",function(b){0===b&&a(function(){g()},0,!0)})}]}}]),gantt.directive("ganttScrollable",["GanttScrollable","ganttDebounce","ganttLayout","GANTT_EVENTS",function(a,b,c,d){return{restrict:"E",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.scrollable.tmpl.html":b.templateUrl},controller:["$scope","$element",function(e,f){e.template.scrollable=new a(f);var g,h=c.getScrollBarWidth();f.bind("scroll",b(function(){var a,b,c=f[0];c.scrollLeft<g&&0===c.scrollLeft?(a="left",b=e.gantt.from):c.scrollLeft>g&&c.offsetWidth+c.scrollLeft>=c.scrollWidth-1&&(a="right",b=e.gantt.to),g=c.scrollLeft,void 0!==b?(e.autoExpandColumns(c,b,a),e.$emit(d.SCROLL,{left:c.scrollLeft,date:b,direction:a})):e.$emit(d.SCROLL,{left:c.scrollLeft})},5)),e.$watch("gantt.columns.length",function(a,b){!angular.equals(a,b)&&a>0&&void 0!==e.gantt.scrollAnchor&&e.$$postDigest(function(){e.scrollToDate(e.gantt.scrollAnchor)})}),e.getScrollableCss=function(){var a={};return e.ganttElementWidth-(e.showLabelsColumn?e.labelsWidth:0)>e.gantt.width+h&&(a.width=e.gantt.width+h+"px"),e.maxHeight>0?(a["max-height"]=e.maxHeight-e.template.header.getHeight()+"px",a["overflow-y"]="auto"):a["overflow-y"]="hidden",a}}]}}]),gantt.directive("ganttVerticalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",controller:["$scope","$element",function(a,b){a.scrollManager.vertical.push(b[0])}]}}),gantt.directive("ganttElementWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(a,b,c){var d=c.ganttElementWidthListener;""===d&&(d="ganttElementWidth");for(var e=a;0===d.indexOf("$parent.");)d=d.substring("$parent.".length),e=a.$parent;e.$watch(function(){e[d]=b[0].offsetWidth})}]}}]),gantt.service("ganttSortManager",[function(){return{startRow:void 0}}]),gantt.directive("ganttSortable",["$document","ganttSortManager",function(a,b){return{restrict:"E",template:"<div ng-transclude></div>",replace:!0,transclude:!0,scope:{row:"=ngModel",swap:"&",active:"=?"},controller:["$scope","$element",function(c,d){d.bind("mousedown",function(){if(c.active===!0){f();var b=function(){c.$apply(function(){angular.element(a[0].body).unbind("mouseup",b),g()})};angular.element(a[0].body).bind("mouseup",b)}}),d.bind("mousemove",function(d){if(e()){var f=angular.element(a[0].elementFromPoint(d.clientX,d.clientY)),g=f.controller("ngModel").$modelValue;g.id!==b.startRow.id&&c.$apply(function(){c.swap({a:g,b:b.startRow})})}});var e=function(){return void 0!==b.startRow&&!angular.equals(c.row,b.startRow)},f=function(){b.startRow=c.row,d.css("cursor","move"),angular.element(a[0].body).css({"-moz-user-select":"-moz-none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none",cursor:"no-drop"})},g=function(){b.startRow=void 0,d.css("cursor","pointer"),angular.element(a[0].body).css({"-moz-user-select":"","-webkit-user-select":"","-ms-user-select":"","user-select":"",cursor:"auto"})}}]}}]),gantt.directive("ganttBounds",[function(){return{restrict:"E",templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.bounds.tmpl.html":b.templateUrl},replace:!0,scope:{task:"=ngModel"},controller:["$scope",function(a){var b={};a.task.hasBounds()||(a.visible=!1),a.getCss=function(){return a.task.hasBounds()&&(b.width=a.task.bounds.width+"px",b.left=a.task.isMilestone===!0||0===a.task.width?a.task.bounds.left-(a.task.left-.3)+"px":a.task.bounds.left-a.task.left+"px"),b},a.getClass=function(){return void 0===a.task.est||void 0===a.task.lct?"gantt-task-bounds-in":a.task.est>a.task.from?"gantt-task-bounds-out":a.task.lct<a.task.to?"gantt-task-bounds-out":"gantt-task-bounds-in"},a.$watch("task.isMouseOver",function(){a.task.hasBounds()&&!a.task.isMoving&&(a.visible=!(void 0===a.task.isMouseOver||a.task.isMouseOver===!1))}),a.$watch("task.isMoving",function(b){a.task.hasBounds()&&(a.visible=b===!0)})}]}}]),gantt.directive("ganttTaskProgress",[function(){return{restrict:"E",templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.taskProgress.tmpl.html":b.templateUrl},replace:!0,scope:{progress:"=ganttTaskProgressValue"},controller:["$scope",function(a){a.getCss=function(){var b={};return b["background-color"]=a.progress.color?a.progress.color:"#6BC443",b.width=a.progress.percent+"%",b}}]}}]),gantt.directive("ganttTask",["$window","$document","$timeout","$filter","ganttSmartEvent","ganttDebounce","ganttMouseOffset","ganttMouseButton","GanttEvents","GANTT_EVENTS",function(a,b,c,d,e,f,g,h,i,j){return{restrict:"E",require:"^ganttRow",templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.task.tmpl.html":b.templateUrl},replace:!0,controller:["$scope","$element",function(d,k){var l,m,n,o=5,p=3,q=15,r=5,s=angular.element(a),t=d.row.$element,u=d.template.body.$element,v=d.template.scrollable.$element,w=!1;k.bind("mousedown",function(a){d.$apply(function(){var b=C(a);if(""!==b&&1===h.getButton(a)){var c=g.getOffsetForElement(u[0],a).x;E(b,c,a)}})}),k.bind("click",function(a){d.$apply(function(){w||d.$emit(j.TASK_CLICKED,i.buildTaskEventData(a,k,d.task,d.gantt)),a.stopPropagation()})}),k.bind("dblclick",function(a){d.$apply(function(){w||d.$emit(j.TASK_DBL_CLICKED,i.buildTaskEventData(a,k,d.task,d.gantt)),a.stopPropagation()})}),k.bind("contextmenu",function(a){d.$apply(function(){w||d.$emit(j.TASK_CONTEXTMENU,i.buildTaskEventData(a,k,d.task,d.gantt)),a.stopPropagation()})}),k.bind("mousemove",f(function(a){var b=C(a);""===b||!d.task.isMoving&&"M"===b?k.css("cursor",""):k.css("cursor",D(b)),d.task.mouseX=a.clientX},5)),k.bind("mouseenter",function(a){d.$apply(function(){d.task.mouseX=a.clientX,d.task.isMouseOver=!0})}),k.bind("mouseleave",function(){d.$apply(function(){d.task.isMouseOver=!1})});var x=function(a,b){d.task.isMoving!==!1&&(y(a,b),z(a,b))},y=function(a,b){var c=g.getOffsetForElement(u[0],b);d.task.mouseOffsetX=c.x;var e=c.x;if("M"===a){if(d.allowTaskRowSwitching){var f=B(c.y);void 0!==f&&d.task.row.id!==f.id&&f.moveTaskToRow(d.task)}d.allowTaskMoving&&(e-=l,"truncate"!==d.taskOutOfRange&&(0>e?e=0:e+d.task.width>=d.gantt.width&&(e=d.gantt.width-d.task.width)),d.task.moveTo(e),d.$emit(j.TASK_MOVE,i.buildTaskEventData(b,k,d.task,d.gantt)))}else"E"===a?("truncate"!==d.taskOutOfRange&&(e<d.task.left?e=d.task.left:e>d.gantt.width&&(e=d.gantt.width)),d.task.setTo(e),d.$emit(j.TASK_RESIZE,i.buildTaskEventData(b,k,d.task,d.gantt))):("truncate"!==d.taskOutOfRange&&(e>d.task.left+d.task.width?e=d.task.left+d.task.width:0>e&&(e=0)),d.task.setFrom(e),d.$emit(j.TASK_RESIZE,i.buildTaskEventData(b,k,d.task,d.gantt)));w=!0},z=function(a,b){var e=g.getOffsetForElement(u[0],b),f=v[0].scrollLeft,h=!1;if(e.x<m)e.x<=f+r&&(e.x-=q,h=!0,d.scrollToLeft(q));else{var i=v[0].offsetWidth,j=f+i;e.x>=j-r&&(e.x+=q,h=!0,d.scrollToRight(q))}h&&(n=c(function(){x(a,b)},100,!0))},A=function(){void 0!==n&&(c.cancel(n),n=void 0)},B=function(a){if(a>=t[0].offsetTop&&a<=t[0].offsetTop+t[0].offsetHeight)return d.task.row;var b=[];angular.forEach(d.task.row.gantt.rows,function(a){a.hidden||b.push(a)});var c=u[0].offsetHeight/b.length,e=Math.floor(a/c);return b[e]},C=function(a){var b=g.getOffset(a).x,c=0;return d.allowTaskResizing&&(c=k[0].offsetWidth<10?p:o),d.allowTaskResizing&&b>k[0].offsetWidth-c?"E":d.allowTaskResizing&&c>b?"W":(d.allowTaskMoving||d.allowTaskRowSwitching)&&b>=c&&b<=k[0].offsetWidth-c?"M":""},D=function(a){switch(a){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},E=function(a,c,g){d.task.isMoving||("M"===a?d.$emit(j.TASK_MOVE_BEGIN,i.buildTaskEventData(g,k,d.task,d.gantt)):d.$emit(j.TASK_RESIZE_BEGIN,i.buildTaskEventData(g,k,d.task,d.gantt))),w=!1,d.task.moveMode=a,d.task.isMoving=!0,m=c,l=c-d.task.modelLeft;var h=f(function(b){d.task.isMoving&&(A(),x(a,b))},5);e(d,s,"mousemove",h).bind(),e(d,s,"mouseup",function(a){d.$apply(function(){s.unbind("mousemove",h),F(a)})}).bindOnce(),k.css("cursor",D(a)),angular.element(b[0].body).css({"-moz-user-select":"-moz-none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none",cursor:D(a)})},F=function(a){d.task.isMoving=!1,A(),k.css("cursor",""),angular.element(b[0].body).css({"-moz-user-select":"","-webkit-user-select":"","-ms-user-select":"","user-select":"",cursor:""}),"M"===d.task.moveMode?d.$emit(j.TASK_MOVE_END,i.buildTaskEventData(a,k,d.task,d.gantt)):d.$emit(j.TASK_RESIZE_END,i.buildTaskEventData(a,k,d.task,d.gantt)),d.task.moveMode=void 0,w===!0&&(w=!1,d.task.row.sortTasks(),d.$emit(j.TASK_CHANGED,i.buildTaskEventData(a,k,d.task,d.gantt)))};d.task.isCreating?(delete d.task.isCreating,E("E",d.task.mouseOffsetX)):d.task.isMoving&&E("M",d.task.mouseOffsetX)}]}}]),gantt.directive("ganttTooltip",["$timeout","$document","ganttDebounce","ganttSmartEvent",function(a,b,c,d){return{restrict:"E",templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.tooltip.tmpl.html":b.templateUrl},replace:!0,controller:["$scope","$element",function(e,f){var g=angular.element(b[0].body),h=f.parent();e.visible=!1,e.css={},e.$watch("task.isMouseOver",function(a){a===!0?k(e.task.mouseX):a===!1&&e.task.isMoving===!1&&m()});var i=d(e,g,"mousemove",c(function(a){e.visible===!0?l(a.clientX):k(a.clientX)},5,!1));e.$watch("task.isMoving",function(a){a===!0?i.bind():a===!1&&(i.unbind(),m())});var j=function(){var a=b[0];return a.documentElement.clientWidth||a.documentElement.getElementById("body")[0].clientWidth},k=function(b){e.visible=!0,a(function(){l(b),e.css.top=h[0].getBoundingClientRect().top+"px",e.css.marginTop=-f[0].offsetHeight-8+"px",e.css.opacity=1},0,!0)},l=function(a){f.removeClass("gantt-task-infoArrow"),f.removeClass("gantt-task-infoArrowR"),a+f[0].offsetWidth>j()?(e.css.left=a+20-f[0].offsetWidth+"px",f.addClass("gantt-task-infoArrowR")):(e.css.left=a-20+"px",f.addClass("gantt-task-infoArrow"))},m=function(){e.css.opacity=0,e.visible=!1}}]}}]),gantt.directive("ganttBody",[function(){return{restrict:"E",require:"^gantt",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.body.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttBody",function(a,b,c){a.template.body=new c(b)}]}}]),gantt.directive("ganttBodyColumns",[function(){return{restrict:"E",require:"^ganttBody",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.bodyColumns.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttBodyColumns",function(a,b,c){a.template.body.columns=new c(b)}]}}]),gantt.directive("ganttBodyRows",[function(){return{restrict:"E",require:"^ganttBody",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.bodyRows.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttBodyRows",function(a,b,c){a.template.body.rows=new c(b)}]}}]),gantt.directive("ganttColumn",[function(){return{restrict:"E",require:"^ganttBodyColumns",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.column.tmpl.html":b.templateUrl},controller:["$scope","$element",function(a,b){a.column.$element=b}]}}]),gantt.directive("ganttColumnHeader",["GanttEvents","GANTT_EVENTS",function(a,b){return{restrict:"E",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.columnHeader.tmpl.html":b.templateUrl},controller:["$scope","$element",function(c,d){d.bind("click",function(e){c.$emit(b.COLUMN_CLICKED,a.buildColumnEventData(e,d,c.column))}),d.bind("dblclick",function(e){c.$emit(b.COLUMN_DBL_CLICKED,a.buildColumnEventData(e,d,c.column))}),d.bind("contextmenu",function(e){c.$emit(b.COLUMN_CONTEXTMENU,a.buildColumnEventData(e,d,c.column))})}]}}]),gantt.directive("ganttHeader",[function(){return{restrict:"E",require:"^gantt",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.header.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttHeader",function(a,b,c){a.template.header=new c(b),a.getHeaderCss=function(){var b={};return a.ganttElementWidth-(a.showLabelsColumn?a.labelsWidth:0)>a.gantt.width&&(b.width=a.gantt.width+"px"),b}}]}}]),gantt.directive("ganttHeaderColumns",[function(){return{restrict:"E",require:"^ganttHeader",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.headerColumns.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttHeaderColumns",function(a,b,c){a.template.header.columns=new c(b)}]}}]),gantt.directive("ganttLabels",[function(){return{restrict:"E",require:"^gantt",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.labels.tmpl.html":b.templateUrl},controller:["$scope","$element","GanttLabels",function(a,b,c){a.template.labels=new c(b)}]}}]),gantt.directive("ganttTimeFrame",[function(){return{restrict:"E",require:"^ganttColumn",transclude:!0,replace:!0,templateUrl:function(a,b){return void 0===b.templateUrl?"template/default.timeFrame.tmpl.html":b.templateUrl},controller:["$scope","$element",function(a,b){a.timeFrame.$element=b,a.getClass=function(){var b=["gantt-timeframe"+(a.timeFrame.working?"":"-non")+"-working"];return a.timeFrame.classes&&(b=b.concat(a.timeFrame.classes)),b}}]}}]),gantt.factory("ganttDebounce",["$timeout",function(a){function b(b,c,d){var e=0;return function(){var f=this,g=arguments;e++;var h=function(a){return function(){return a===e?b.apply(f,g):void 0}}(e);return a(h,c,void 0===d?!0:d)}}return b}]),gantt.service("ganttEnableNgAnimate",["$injector",function(a){var b;try{b=a.get("$animate")}catch(c){}return void 0!==b?function(a,c){b.enabled(!1,c)}:function(){}}]),gantt.service("ganttLayout",["$document",function(a){return{getScrollBarWidth:function(){var b=a[0].createElement("p");b.style.width="100%",b.style.height="200px";var c=a[0].createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.width="200px",c.style.height="150px",c.style.overflow="hidden",c.appendChild(b),a[0].body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";var e=b.offsetWidth;return d===e&&(e=c.clientWidth),a[0].body.removeChild(c),d-e}}}]),gantt.service("ganttMouseButton",[function(){return{getButton:function(a){return a=a||window.event,a.which?a.which:a.button<2?1:4===a.button?2:3}}}]),gantt.service("ganttMouseOffset",[function(){return{getOffset:function(a){return a.offsetX&&a.offsetY?{x:a.offsetX,y:a.offsetY}:a.layerX&&a.layerY?{x:a.layerX,y:a.layerY}:this.getOffsetForElement(a.target,a)},getOffsetForElement:function(a,b){var c=a.getBoundingClientRect();return{x:b.clientX-c.left,y:b.clientY-c.top}}}}]),gantt.factory("ganttSmartEvent",[function(){function a(a,b,c,d){return a.$on("$destroy",function(){b.unbind(c,d)}),{bindOnce:function(){b.one(c,d)},bind:function(){b.bind(c,d)},unbind:function(){b.unbind(c,d)}}}return a}]),angular.module("gantt.templates",[]).run(["$templateCache",function(a){a.put("template/gantt.tmpl.html",'<div class="gantt unselectable" ng-cloak gantt-scroll-manager>\n    <gantt-labels>\n        <gantt-labels-header>\n            <gantt-row-header></gantt-row-header>\n        </gantt-labels-header>\n        <gantt-labels-body>\n            <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                <gantt-row-label></gantt-row-label>\n            </div>\n        </gantt-labels-body>\n        <div gantt-resizer="gantt.labels.$element" gantt-resizer-event-topic="labels" gantt-resizer-enabled="$parent.allowLabelsResizing" resizer-width="$parent.$parent.labelsWidth" class="gantt-resizer">\n            <div ng-show="$parent.allowLabelsResizing" class="gantt-resizer-display"></div>\n        </div>\n    </gantt-labels>\n    <gantt-header>\n        <gantt-header-columns>\n            <div ng-repeat="header in gantt.columnsManager.visibleHeaders">\n                <div class="gantt-header-row" ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}">\n                    <div ng-repeat="column in header">\n                        <gantt-column-header ></gantt-column-header>\n                    </div>\n                </div>\n            </div>\n        </gantt-header-columns>\n    </gantt-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <gantt-body-background>\n                <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-row-background></gantt-row-background>\n                </div>\n            </gantt-body-background>\n            <gantt-body-foreground>\n                <div class="gantt-current-date-line" ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div>\n            </gantt-body-foreground>\n            <gantt-body-columns>\n                <div ng-repeat="column in gantt.columnsManager.visibleColumns">\n                    <gantt-column>\n                        <div ng-repeat="timeFrame in column.visibleTimeFrames">\n                            <gantt-time-frame></gantt-time-frame>\n                        </div>\n                    </gantt-column>\n                </div>\n            </gantt-body-columns>\n            <gantt-body-rows gantt-element-width-listener="$parent.$parent.bodyRowsWidth">\n                <div ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id">\n                    <gantt-timespan></gantt-timespan>\n                </div>\n                <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-row>\n                        <div ng-repeat="task in row.visibleTasks track by task.model.id">\n                            <gantt-task></gantt-task>\n                        </div>\n                    </gantt-row>\n                </div>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n    <!-- Plugins -->\n    <ng-transclude></ng-transclude>\n\n    <!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    -->\n\n    <!-- Body template -->\n    <script type="text/ng-template" id="template/ganttBody.tmpl.html">\n        <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width +\'px\'}"></div>\n    </script>\n\n    <!-- Header template -->\n    <script type="text/ng-template" id="template/ganttHeader.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div>\n    </script>\n\n    <!-- Row label template -->\n    <script type="text/ng-template" id="template/ganttRowLabel.tmpl.html">\n        <div class="gantt-labels-row gantt-row-height"\n             ng-class-odd="\'gantt-background-row\'"\n             ng-class-even="\'gantt-background-row-alt\'"\n             ng-class="row.model.classes" ng-style="::{\'background-color\': row.model.color, \'height\': row.model.height}">\n                <span class="gantt-labels-text">{{row.model.name}}</span>\n        </div>\n    </script>\n\n    <!-- Row header template -->\n    <script type="text/ng-template" id="template/ganttRowHeader.tmpl.html">\n        <div class="gantt-labels-header-row gantt-labels-header-row-last"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"\n             ng-style="{\'margin-top\': ((gantt.columnsManager.headers.length-1)*2)+\'em\'}">\n            <span>Name</span>\n        </div>\n    </script>\n\n    <!-- Labels header template-->\n    <script type="text/ng-template" id="template/ganttLabelsHeader.tmpl.html">\n        <div ng-transclude= class="gantt-labels-header">\n        </div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttLabelsBody.tmpl.html">\n    <div class="gantt-labels-body"\n         ng-style="(maxHeight > 0 && {\'max-height\': (maxHeight - gantt.header.getHeight())+\'px\'} || {})">\n        <div ng-transclude gantt-vertical-scroll-receiver>\n        </div>\n    </div>\n    </script>\n\n    <!-- Labels template -->\n    <script type="text/ng-template" id="template/ganttLabels.tmpl.html">\n        <div ng-transclude ng-show="showLabelsColumn" class="gantt-labels"></div>\n    </script>\n\n    <!-- Header columns template -->\n    <script type="text/ng-template" id="template/ganttHeaderColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumnHeader.tmpl.html">\n        <div class="gantt-column-header">{{::column.label}}</div>\n    </script>\n\n    <!-- Body background template -->\n    <script type="text/ng-template" id="template/ganttBodyBackground.tmpl.html">\n        <div ng-transclude class="gantt-body-background"></div>\n    </script>\n\n    <!-- Row background template -->\n    <script type="text/ng-template" id="template/ganttRowBackground.tmpl.html">\n        <div class="gantt-row-height"\n             ng-class-odd="\'gantt-background-row\'"\n             ng-class-even="\'gantt-background-row-alt\'"\n             ng-class="::row.model.classes"\n             ng-style="::{\'background-color\': row.model.color, \'height\': row.model.height}">\n        </div>\n    </script>\n\n    <!-- Body foreground template -->\n    <script type="text/ng-template" id="template/ganttBodyForeground.tmpl.html">\n        <div ng-transclude class="gantt-body-foreground"></div>\n    </script>\n\n    <!-- Body columns template -->\n    <script type="text/ng-template" id="template/ganttBodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumn.tmpl.html">\n        <div ng-transclude class="gantt-column gantt-foreground-col"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTimeFrame.tmpl.html">\n        <div class="gantt-timeframe"></div>\n    </script>\n\n    <!-- Scrollable template -->\n    <script type="text/ng-template" id="template/ganttScrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div>\n    </script>\n\n    <!-- Rows template -->\n    <script type="text/ng-template" id="template/ganttBodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    </script>\n\n    <!-- Timespan template -->\n    <script type="text/ng-template" id="template/ganttTimespan.tmpl.html">\n        <div class="gantt-timespan" ng-class="::timespan.classes">\n        </div>\n    </script>\n\n    <!-- Task template -->\n    <script type="text/ng-template" id="template/ganttTask.tmpl.html">\n        <div ng-class="::task.model.classes">\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left"><span>&lt;</span></div>\n            <gantt-task-content></gantt-task-content>\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right"><span>&gt;</span></div>\n        </div>\n    </script>\n\n    <!-- Task content template -->\n    <script type="text/ng-template" id="template/ganttTaskContent.tmpl.html">\n        <div class="gantt-task-content-container">\n            <div class="gantt-task-content"><span>{{task.model.name}}</span></div>\n        </div>\n    </script>\n\n    <!-- Row template -->\n    <script type="text/ng-template" id="template/ganttRow.tmpl.html">\n        <div ng-transclude class="gantt-row gantt-row-height" ng-style="::{\'height\': row.model.height}"></div>\n    </script>\n\n</div>\n')}]),angular.module("ganttTemplates",[]).run(["$templateCache",function(a){a.put("template/default.gantt.tmpl.html",'<div class="gantt unselectable" gantt-scroll-manager gantt-element-width-listener>\n    <gantt-labels>\n        <div class="gantt-labels-header">\n            <gantt-row-header></gantt-row-header>\n        </div>\n        <div class="gantt-labels-body"\n             ng-style="(maxHeight > 0 && {\'max-height\': (maxHeight-template.header.getHeight())+\'px\'} || {})"\n             ng-show="gantt.columns.length > 0">\n            <div gantt-vertical-scroll-receiver style="position: relative">\n                <gantt-row-label ng-repeat="row in gantt.visibleRows track by $index">\n                    <gantt-sortable swap="swapRows(a,b)" active="allowRowSorting" ng-model="row">\n                        <span class="gantt-labels-text">{{ row.name }}</span>\n                    </gantt-sortable>\n                </gantt-row-label>\n            </div>\n        </div>\n    </gantt-labels>\n    <gantt-header>\n        <gantt-header-columns>\n            <div ng-repeat="header in gantt.visibleHeaders">\n                <div class="gantt-header-row gantt-header-row-bottom">\n                    <gantt-column-header ng-repeat="column in header track by $index">\n                        {{ column.label }}\n                    </gantt-column-header>\n                </div>\n            </div>\n        </gantt-header-columns>\n    </gantt-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <div class="gantt-body-background">\n                <div class="gantt-row-height"\n                     ng-class-odd="\'gantt-background-row\'"\n                     ng-class-even="\'gantt-background-row-alt\'"\n                     ng-class="row.classes"\n                     ng-style="{\'background-color\': row.color, \'height\': row.height}"\n                     ng-repeat="row in gantt.visibleRows track by $index">\n                </div>\n            </div>\n            <div class="gantt-body-foreground">\n                <div class="gantt-current-date-line" ng-if="currentDate === \'line\' && currentDatePosition >= 0 && currentDatePosition <= gantt.width" ng-style="{\'left\': currentDatePosition + \'px\' }"></div>\n            </div>\n            <gantt-body-columns class="gantt-body-columns">\n                <gantt-column ng-repeat="column in gantt.visibleColumns track by $index">\n                    <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame>\n                </gantt-column>\n            </gantt-body-columns>\n            <gantt-body-rows>\n                <div class="gantt-timespan"\n                     ng-style="{\'left\': ((timespan.left-0.3) || timespan.left)+\'px\', \'width\': timespan.width +\'px\', \'z-index\': (timespan.priority || 0)}"\n                     ng-class="timespan.classes"\n                     ng-repeat="timespan in gantt.timespans">\n                    <gantt-tooltip ng-model="timespan" date-format="\'MMM d\'">\n                        <div class="gantt-task-content"><span>{{ timespan.name }}</span></div>\n                    </gantt-tooltip>\n                </div>\n                <gantt-row ng-repeat="row in gantt.visibleRows track by $index">\n                    <gantt-task ng-repeat="task in row.visibleTasks track by task.id"></gantt-task>\n                </gantt-row>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n\n    <!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    -->\n\n    <!-- Body template -->\n    <script type="text/ng-template" id="template/default.body.tmpl.html">\n        <div ng-transclude class="gantt-body"\n             ng-style="{\'width\': gantt.width +\'px\'}"></div>\n    </script>\n\n    <!-- Header template -->\n    <script type="text/ng-template" id="template/default.header.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columns.length > 0 && gantt.getActiveHeadersCount() > 0"\n             ng-style="getHeaderCss()"></div>\n    </script>\n\n    <!-- Row label template -->\n    <script type="text/ng-template" id="template/default.rowLabel.tmpl.html">\n        <div ng-transclude class="gantt-labels-row gantt-row-height"\n             ng-class-odd="\'gantt-background-row\'"\n             ng-class-even="\'gantt-background-row-alt\'"\n             ng-class="row.classes" ng-style="{\'background-color\': row.color, \'height\': row.height}">\n        </div>\n    </script>\n\n    <!-- Row header template -->\n    <script type="text/ng-template" id="template/default.rowHeader.tmpl.html">\n        <div class="gantt-labels-header-row"\n             ng-show="gantt.columns.length > 0 && gantt.getActiveHeadersCount() > 0"\n             ng-style="{\'margin-top\': ((gantt.getActiveHeadersCount()-1)*2)+\'em\'}">\n            <span>Name</span>\n        </div>\n    </script>\n\n    <!-- Labels template -->\n    <script type="text/ng-template" id="template/default.labels.tmpl.html">\n        <div ng-transclude ng-if="showLabelsColumn" class="gantt-labels"\n             ng-style="(labelsWidth > 0 && {\'width\': labelsWidth+\'px\'} || {})"\n             gantt-labels-resize="$parent.allowLabelsResizing"\n             gantt-labels-resize-width="$parent.labelsWidth"\n             gantt-labels-resize-min-width="50"\n             gantt-element-width-listener="$parent.labelsWidth"></div>\n    </script>\n\n    <!-- Header columns template -->\n    <script type="text/ng-template" id="template/default.headerColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    </script>\n\n    <script type="text/ng-template" id="template/default.columnHeader.tmpl.html">\n        <div ng-transclude class="gantt-column-header"\n              ng-style="{\'left\': column.left+\'px\', \'width\': column.width+\'px\'}"></div>\n    </script>\n\n    <!-- Body columns template -->\n    <script type="text/ng-template" id="template/default.bodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/default.column.tmpl.html">\n        <div ng-transclude class="gantt-column"\n             ng-class="(column.currentDate && currentDate === \'column\') && \'gantt-foreground-col-current-date\' || \'gantt-foreground-col\'"\n             ng-style="{\'left\': column.left+\'px\', \'width\': column.width+\'px\'}"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/default.timeFrame.tmpl.html">\n        <div class="gantt-timeframe"\n             ng-class="getClass()"\n             ng-style="{\'left\': timeFrame.left + \'px\', \'width\': timeFrame.width + \'px\', \'background-color\': timeFrame.color && timeFrame.color || \'\'}"></div>\n    </script>\n\n    <!-- Scrollable template -->\n    <script type="text/ng-template" id="template/default.scrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender gantt-limit-updater\n             ng-style="getScrollableCss()"></div>\n    </script>\n\n    <!-- Rows template -->\n    <script type="text/ng-template" id="template/default.bodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    </script>\n\n    <!-- Task template -->\n    <script type="text/ng-template" id="template/default.task.tmpl.html">\n        <div ng-class="(task.isMilestone === true && [\'gantt-task-milestone\'] || [\'gantt-task\']).concat(task.classes)"\n             ng-style="{\'left\': ((task.isMilestone === true || task.width === 0) && (task.left-0.3) || task.left)+\'px\', \'width\': task.width +\'px\', \'z-index\': (task.isMoving === true && 1  || task.priority || \'\'), \'background-color\': task.color}">\n            <gantt-bounds ng-if="task.bounds !== undefined" ng-model="task"></gantt-bounds>\n            <gantt-tooltip ng-if="showTooltips && (task.isMouseOver || task.isMoving)" ng-model="task"></gantt-tooltip>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left"><span>&lt;</span></div>\n            <div class="gantt-task-content"><span>{{ (task.isMilestone === true && \'&nbsp;\' || task.name) }}</span></div>\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right"><span>&gt;</span></div>\n            <gantt-task-progress ng-if="task.progress !== undefined" gantt-task-progress-value="task.progress"></gantt-task-progress>\n        </div>\n    </script>\n\n    <!-- Tooltip template -->\n    <script type="text/ng-template" id="template/default.tooltip.tmpl.html">\n        <div class="gantt-task-info" ng-style="css">\n            <div class="gantt-task-info-content">\n                {{ task.name }}</br>\n                <small>\n                    {{\n                    task.isMilestone === true && (task.getFromLabel()) || (task.getFromLabel() + \' - \' + task.getToLabel());\n                    }}\n                </small>\n            </div>\n        </div>\n    </script>\n\n    <!-- Task bounds template -->\n    <script type="text/ng-template" id="template/default.bounds.tmpl.html">\n        <div ng-show=\'visible\' class=\'gantt-task-bounds\'\n             ng-style=\'getCss()\' ng-class=\'getClass()\'></div>\n    </script>\n\n    <!-- Task progress template -->\n    <script type="text/ng-template" id="template/default.taskProgress.tmpl.html">\n        <div class=\'gantt-task-progress\' ng-style="getCss()" ng-class="progress.classes"></div>\n    </script>\n\n    <!-- Row template -->\n    <script type="text/ng-template" id="template/default.row.tmpl.html">\n        <div ng-transclude class="gantt-row gantt-row-height" ng-style="{\'height\': row.height}"></div>\n    </script>\n\n</div>\n')
}]),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(a){a.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(a){a.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body"\n     ng-style="(maxHeight > 0 && {\'max-height\': (maxHeight - gantt.header.getHeight())+\'px\'} || {})">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <gantt-row-label></gantt-row-label>\n        </div>\n    </div>\n</div>\n'),a.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <gantt-row-header></gantt-row-header>\n</div>\n'),a.put("plugins/labels/rowHeader.tmpl.html",'<div class="gantt-row-height gantt-labels-header-row"\n     ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"\n     ng-style="{\'margin-top\': ((gantt.columnsManager.headers.length-1)*2)+\'em\'}">\n    <span>Name</span>\n</div>\n'),a.put("plugins/labels/rowLabel.tmpl.html",'<div class="gantt-row-label gantt-row-height"\n     ng-class-odd="\'gantt-background-row\'"\n     ng-class-even="\'gantt-background-row-alt\'"\n     ng-class="row.model.classes" ng-style="::{\'background-color\': row.model.color, \'height\': row.model.height}">\n    <span>{{row.model.name}}</span>\n</div>\n'),a.put("plugins/labels/rowLabels.tmpl.html",'<div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n    <gantt-row-label></gantt-row-label>\n</div>\n'),a.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(a){a.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(){}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(a){a.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak class="gantt-task-info">\n    <div class="gantt-task-info-content">\n        {{task.model.name}}</br>\n        <small>\n            {{task.isMilestone() === true && (getFromLabel()) || (getFromLabel() + \' - \' + getToLabel())}}\n        </small>\n    </div>\n</div>\n')}]);
//# sourceMappingURL=angular-gantt.min.js.map